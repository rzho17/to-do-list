(()=>{"use strict";const e=()=>{const e=document.querySelector(".mainContent"),t=document.createElement("h2");t.className="taskTitle",t.textContent="Home",e.append(t)};document.querySelector(".home").addEventListener("click",(()=>{(()=>{const t=document.querySelector(".mainContent");document.querySelector(".taskTitle"),document.createElement("div"),c(),e(),t.append(m(u.arr))})()}));const t=(e,t)=>{const o=document.querySelector(`#${t}`),c=document.createElement("option");return c.text=e,c.value=e,o.append(c),c},o=e=>{const t=document.querySelector(`#${e}`);for(;t.options.length>0;)t.remove(0)},c=()=>{document.querySelector(".mainContent").innerHTML=""},n=(e,t,o,c)=>{const n=document.createElement("div");n.setAttribute("class","taskContainer"),n.dataset.number=c;const r=document.createElement("input");r.setAttribute("type","checkbox"),r.className="complete",r.dataset.number=c;const s=document.createElement("div");s.textContent=e,s.className="title";const l=document.createElement("div");l.textContent=t,l.className="details";const a=document.createElement("div");a.textContent=o,a.className="date";const d=document.createElement("button");d.className="editBtn",d.textContent="edit",d.dataset.number=c;const i=document.createElement("button");return i.className="remove",i.textContent="remove",i.dataset.number=c,n.append(r,s,l,a,d,i),n},r=e=>{document.querySelector(".mainContent").append(e)};class s{constructor(e,t,o,c,n,r){this.title=e,this.description=t,this.dueDate=o,this.priority=c,this.complete=n,this.project=r}test(){console.log("hi")}}const l=t=>{document.querySelectorAll(".remove").forEach((o=>{o.addEventListener("click",(o=>{t.splice(o.target.dataset.number,1),c(),e(),m(t)}))}))},a=e=>{const t=document.querySelector("#edit");document.querySelectorAll(".editBtn").forEach((o=>{o.addEventListener("click",(o=>{let n=o.target.dataset.number;const r=e[n];t.addEventListener("submit",(o=>{o.preventDefault();const l=new FormData(t),a=l.get("editTitle"),d=l.get("editDescription"),i=l.get("editDate"),u=l.get("editPriority"),p=r.complete,g=l.get("editProject"),y=new s(a,d,i,u,p,g);console.log(e),""!==n&&(e.splice(n,1,y),c(),m(e)),n=""}))}))}))},d=e=>{document.querySelectorAll(".complete").forEach((t=>{t.addEventListener("click",(t=>{const o=t.target.dataset.number;!1===e[o].complete?(e[o].complete=!0,(e=>{const t=e.target.parentElement,o=t.querySelector(".title"),c=t.querySelector(".details"),n=t.querySelector(".date");o.classList.toggle("toDoChecked"),c.classList.toggle("toDoChecked"),n.classList.toggle("toDoChecked")})(t),console.log(e[o].complete)):(e[o].complete=!1,(e=>{const t=e.target.parentElement,o=t.querySelector(".title"),c=t.querySelector(".details"),n=t.querySelector(".date");o.classList.remove("toDoChecked"),c.classList.remove("toDoChecked"),n.classList.remove("toDoChecked")})(t),console.log(e[o].complete))}))}))},i=e=>{let t=0;e.forEach((e=>{!0===e.complete&&(e=>{console.log(e);const t=document.querySelector('.taskContainer[data-number="'+e+'"]');console.log(t);const o=document.querySelector('input[data-number="'+e+'"]');if(console.log(o),null===t||null===o)console.log("nothing");else{const e=t.querySelector(".title"),c=t.querySelector(".details"),n=t.querySelector(".date");o.checked=!0,e.classList.toggle("toDoChecked"),c.classList.toggle("toDoChecked"),n.classList.toggle("toDoChecked")}})(t),t++}))},m=e=>{let t=0;return e.forEach((e=>{const o=Object.values(e);r(n(o[0],o[1],o[2],t)),t++})),l(e),a(e),d(e),i(e),[]},u=(()=>{const t=document.querySelector("form"),o=[];return t.addEventListener("submit",(n=>{n.preventDefault();const r=new FormData(t),l=r.get("title"),a=r.get("description"),d=r.get("date"),i=r.get("priority"),u=r.get("project"),p=new s(l,a,d,i,!1,u);o.push(p),c(),e(),m(o)})),{arr:o}})();class p{constructor(e){this.project=e}}new p("Do Dishes");const g=document.querySelector(".displayDropDown"),y=document.querySelector(".addProject"),h=()=>{const e=document.querySelector(".mainContent"),t=document.querySelectorAll(".projectLi"),o=document.createElement("h2");o.className="taskTitle",o.textContent="Home",t.forEach((t=>{t.addEventListener("click",(t=>{var c;e.innerHTML="",o.textContent=t.target.textContent,e.append(o),e.append((c=t.target.textContent,u.arr.forEach(((e,t)=>{e.project===c&&r(n(e.title,e.description,e.dueDate,t))})),l(u.arr),a(u.arr),d(u.arr),i(u.arr),[]))}))}))};h();y.addEventListener("click",(e=>{document.querySelector("#getProject").classList.toggle("displayProject"),(()=>{const e=document.querySelector("#getProject");e.addEventListener("submit",(c=>{c.preventDefault();const n=new FormData(e).get("newProject"),r=new p(n);""!==r.project&&(e=>{const t=document.querySelector(".dropDownItems"),o=document.createElement("li");o.className="projectLi",o.textContent=e.project,t.appendChild(o)})(r),(()=>{const e=document.querySelectorAll(".projectLi");o("project"),o("editProject"),t("Home","project"),t("Home","editProject"),e.forEach((e=>{t(e.innerText,"project"),t(e.innerText,"editProject")}))})(),h(),e.reset()}))})()})),g.addEventListener("click",(()=>{document.querySelector(".dropDownItems").classList.toggle("displayItems")})),e()})();